% Chapter 5: Results

\chapter{Resultados} % Main chapter title

\label{Chapter5} % Reference

%-------------------------------------------------------------------------------

En este capítulo se exponen los diferentes recursos tanto hardware como software para la realización de este trabajo fin de grado y como, a partir de estos, se han obtenido los resultados para su posterior análisis.

\section{Recursos utilizados}
A continuación se detallará la máquina  y software para el desarrollo y procesado de las instancias para la comprobación del algoritmo, y las instancias utilizadas que describen diferentes casos y situaciones reales.

\subsection{Descripción de la máquina utilizada}
\label{sec:maquina}
Para la realización de las diversas pruebas y procesado de las instancias de este problema, se ha utilizado una máquina con las siguientes características:

\begin{itemize}

\item \textbf{Procesador:} Intel Core i5 2,7 GHz
\item \textbf{Memoria RAM:} 8 GB 1867 Mhz DDR3
\end{itemize}

El desarrollo del código se ha realizado mediante el lenguaje de programación Python\footnote{https://www.python.org/}, en su versión 3.7.4, a través del \gls{IDE} \footnote{Entorno de desarrollo integrado.}, PyCharm\footnote{https://www.jetbrains.com/es-es/pycharm/} de JetBrains en su versión 2019.3.1.

\subsection{Instancias utilizadas}
\label{sec:Instancias-utilizadas}
Las instancias con las que se ha contado para comprobar la eficiencia del algoritmo desarrollado han sido proporcionadas por los estudios previos en los que se basa y compara este trabajo final de grado, estas, hacen referencia a diferentes conjuntos de grafos, tanto generados de manera aleatoria como obtenidos de diferentes fuentes de datos como precios del mercado de valores y turbinas de viento. A continuación se detallan los diferentes conjuntos:

\begin{itemize}
	
	\item \textbf{Conjuntos de tipo A y B:} Estos conjuntos son instancias de grafos generadas mediante una distribución de probabilidad uniforme, variando entre los 100 y los 500 nodos, así como la densidad del mismo que varía entre 45,78 \% y 53,64 \%.
	\item  \textbf{Conjunto de tipo C:} Los datos pertenecientes a las instancias de este tipo hacen referencia a datos de los precios del mercado de valores.
	\item  \textbf{Conjunto de tipo D:} Las instancias de este conjunto son datos para la construcción de turbinas de viento, donde cada nodo representa una localización de estas turbinas y sus pesos son la media de la velocidad del viento y el coste de contrucción de una turbina en ese punto.
	\item  \textbf{Conjunto de tipo E:} Estas instancias están extraídas del segundo y décimo DIMACS Implementation Challenge\footnote{http://dimacs.rutgers.edu/programs/challenge/}, donde cada nodo tiene un peso $\mathrm{p_{i} = 1}$ y un peso $\mathrm{q_{i} = 2}$. Adicionalmente se ha añadido un nodo más a cada instancia de este conjunto, el cual está conectado al resto de nodos de la misma, con un peso $\mathrm{p_{i} = 1}$ y un peso $\mathrm{q_{i} = 1}$, donde i es el número del nodo dentro de esa instancia.
	\item  \textbf{Conjunto de tipo F:} Estas instancias son las mismas que en el conjunto E pero en este caso los pesos de cada nodo son $\mathrm{p_{i} = i}$ y $\mathrm{q_{i} = |V| - i + 1}$, donde i es el número del nodo dentro de esa instancia.
	
	
\end{itemize}

%-------------------------------------------------------------------------------

\section{Análisis de los resultados}
En esta sección se muestran los resultados obtenidos tras el procesamiento de las instancias descritas en la sección \ref{sec:Instancias-utilizadas} y empleando la máquina descrita en la sección \ref{sec:maquina}. Estos resultados se han obtenido en dos fases, una primera fase preliminar, con un conjunto reducido de las instancias y una segunda fase final con todas las instancias del problema para su posterior comparación con los resultados de estudios previos.

\subsection{Experimentos preliminares}
En estas primeras pruebas se han seleccionado un subconjunto de 22 instancias del problema, con el fin de estudiar la calidad del algoritmo y comprobar los resultados obtenidos mediante distintos valores para $\alpha$ en varias iteraciones.

Para la realización de las pruebas de esta sección se han elegido las instancias de todos los conjuntos para ampliar el rango de las pruebas. El número de nodos en estas instancias varia desde los 30 hasta los 1000 nodos, con densidades del 1 al 50 por ciento aproximadamente.
A esta selección de instancias se les ha aplicado los dos constructivos desarrollados para la resolución a este problema, descritos en la sección \ref{sec:implementacion}, y a su vez se ha aplicado los valores de $\alpha$ $\epsilon$ \{0.25, 0.5, 0.75\} y adicionalmente un valor de $\alpha$ aleatorio.
Este experimento se ha realizado procesando cada instancia 100 veces, que unido a lo anteriormente descrito, hace un total de 800 iteraciones por fichero.

\begin{scriptsize}
\pgfplotstabletypeset[
multicolumn names,
empty header,
begin table=\begin{longtable},
	every first row/.append style={before row={
			\caption{Resultados de los experimentos preliminares con constructivo adyacentes.}
			\label{table:pre-ady}\\\toprule
			\multicolumn{1}{c|}{\textbf{Instancias}} &
			\multicolumn{4}{c}{\textbf{GRASP}} &
			\multicolumn{5}{|c}{\textbf{GRASP y búsqueda local}} \\
			\multicolumn{1}{c|}{} & \multicolumn{1}{c}{\textbf{$f$}} & \textbf{c} &\textbf{t (sec)} & \textbf{\hspace{0.5cm}$\alpha$} & \multicolumn{1}{|c}{\textbf{$f$}} & \textbf{c} & \textbf{t (sec)} & \textbf{\hspace{0.5cm}$\alpha$} & \textbf{Mejor} \\ \toprule    
			\endfirsthead
			%
			\multicolumn{10}{c}
			{{\bfseries Tabla \thetable\ Continuación de la página anterior}} \\
			\toprule 
			\multicolumn{1}{c|}{\textbf{Instancias}} &
			\multicolumn{4}{c}{\textbf{GRASP}} &
			\multicolumn{5}{|c}{\textbf{GRASP y búsqueda local}} \\
			\multicolumn{1}{c|}{} & \multicolumn{1}{c}{\textbf{$f$}} & \textbf{c} &\textbf{t (sec)} & \textbf{\hspace{0.5cm}$\alpha$} & \multicolumn{1}{|c}{\textbf{$f$}} & \textbf{c} & \textbf{t (sec)} & \textbf{\hspace{0.5cm}$\alpha$} & \textbf{Mejor} \\ \toprule    
			\endhead
			\midrule \multicolumn{10}{r}{{Continúa en la siguiente página}} \\ \bottomrule
			\endfoot
			\midrule
			\multicolumn{10}{r}{{Concluido}} \\ \bottomrule
			\endlastfoot
	}},
	end table=\end{longtable},
col sep=semicolon,
string type,
display columns/0/.style={postproc cell content/.append style={@cell content={\textbf{##1}}}},
display columns/1/.style={column type={S}},
display columns/2/.style={column type={c}},
display columns/3/.style={column type={S}},
display columns/4/.style={column type={S}},
display columns/5/.style={column type={S}},
display columns/6/.style={column type={S}},
display columns/7/.style={column type={S}},
display columns/8/.style={column type={S}},
display columns/9/.style={column type={c}},
]{Results/pre-ady-fin.csv}

\pgfplotstabletypeset[
multicolumn names,
empty header,
begin table=\begin{longtable},
	every first row/.append style={before row={
			\caption{Resultados de los experimentos preliminares con constructivo ratio.}
			\label{table:pre-ratio}\\\toprule
			\multicolumn{1}{c|}{\textbf{Instancias}} &
			\multicolumn{4}{c}{\textbf{GRASP}} &
			\multicolumn{5}{|c}{\textbf{GRASP y búsqueda local}} \\
			\multicolumn{1}{c|}{} & \multicolumn{1}{c}{\textbf{$f$}} & \textbf{c} &\textbf{t (sec)} & \textbf{\hspace{0.5cm}$\alpha$} & \multicolumn{1}{|c}{\textbf{$f$}} & \textbf{c} & \textbf{t (sec)} & \textbf{\hspace{0.5cm}$\alpha$} & \textbf{Mejor} \\ \toprule    
			\endfirsthead
			%
			\multicolumn{10}{c}
			{{\bfseries Tabla \thetable\ Continuación de la página anterior}} \\
			\toprule 
			\multicolumn{1}{c|}{\textbf{Instancias}} &
			\multicolumn{4}{c}{\textbf{GRASP}} &
			\multicolumn{5}{|c}{\textbf{GRASP y búsqueda local}} \\
			\multicolumn{1}{c|}{} & \multicolumn{1}{c}{\textbf{$f$}} & \textbf{c} &\textbf{t (sec)} & \textbf{\hspace{0.5cm}$\alpha$} & \multicolumn{1}{|c}{\textbf{$f$}} & \textbf{c} & \textbf{t (sec)} & \textbf{\hspace{0.5cm}$\alpha$} & \textbf{Mejor} \\ \toprule    
			\endhead
			\midrule \multicolumn{10}{r}{{Continúa en la siguiente página}} \\ \bottomrule
			\endfoot
			\midrule
			\endlastfoot
	}},
	end table=\end{longtable},
col sep=semicolon,
string type,
display columns/0/.style={postproc cell content/.append style={@cell content={\textbf{##1}}}},
display columns/1/.style={column type={S}},
display columns/2/.style={column type={c}},
display columns/3/.style={column type={S}},
display columns/4/.style={column type={S}},
display columns/5/.style={column type={S}},
display columns/6/.style={column type={S}},
display columns/7/.style={column type={S}},
display columns/8/.style={column type={S}},
display columns/9/.style={column type={c}},
]{Results/pre-ratio-fin.csv}
\end{scriptsize}

Durante los experimentos preliminares se han recopilado los datos mostrados en las tablas \ref{table:pre-ady} y \ref{table:pre-ratio}, las cuales están divididas en el uso del algoritmo \gls{GRASP} y su posterior mejora mediante la búsqueda local y donde:

\begin{itemize}
	\item $f$: Indica el valor de la función objetivo calculado.
	\item c: Indica la cardinalidad del clique encontrado.
	\item t: Indica el tiempo total empleado en encontrar la solución en segundos.
	\item $\alpha$ : Indica el valor de $\alpha$ con el que se ha obtenido esa solución.
	\item Mejor: Indica si la solución obtenida mediante este constructivo es mejor respecto al otro.
\end{itemize}

En ellas se encuentran los mejores resultados tras todas las iteraciones de ambos constructivos y la posterior mejor del algoritmo con la búsqueda local.
Aunque se puede observar que añadir al algoritmo la búsqueda local no parece suponer una mejor en algunos casos, en muchos otros si, por lo que finalmente se añadirá para la experimentación final. Además, tras estas iteraciones se ha comprobado que el constructivo mediante el cálculo por ratio ha obtenido mejores resultados en relación ratio-cardinalidad, es decir, este constructivo permite obtener valores de ratio mayores y cliques con mayor número de nodos en tiempos de computo razonables, a esto hay que añadir que el $\alpha$ que ha permitido obtener mejores resultado ha sido el valor 0.75.


\subsection{Experimento final}

Como se ha comentado en la anterior sección, este experimento final se ha realizado mediante la siguiente configuración:
\begin{itemize}
	\item Algoritmo \gls{GRASP}.
	\item Búsqueda local.
	\item Constructivo calculado por ratio.
	\item Valor de $\alpha = 0.75$. 
	\item 100 iteraciones por instancia.
\end{itemize}

Con los que tras el procesado de todas las instancias, se han obtenido los datos mostrador en la tabla \ref{table:exp-final}, donde:
\begin{itemize}
	\item $f$: Indica el valor de la función objetivo calculado.
	\item c: Indica la cardinalidad del clique encontrado.
	\item t: Indica el tiempo total empleado en encontrar la solución en segundos.
	\item $\Delta f (\%)$: Indica la variación respecto al valor de la función objetivo en la que se ha basado este trabajo.
	\item Mejor: Indica si la solución obtenida mediante el algoritmo es mejor o no que la del trabajo anterior.
\end{itemize}

\begin{footnotesize}
\pgfplotstabletypeset[
empty header,
begin table=\begin{longtable},
	every first row/.append style={before row={%
			\caption{Resultados del experimento final.}
			\label{table:exp-final}\\\toprule
			\textbf{Instancias} &\textbf{$f$} &\textbf{c} &\textbf{t (sec)} &\textbf{$\Delta f(\%)$} &\textbf{$Mejor$} \\ \toprule    
			\endfirsthead
			\multicolumn{6}{c}%
			{{\bfseries Tabla \thetable\ Continuación de la página anterior}} \\
			\toprule 
			\textbf{Instancias} &\textbf{$f$} &\textbf{c} &\textbf{t (sec)} &\textbf{$\Delta f(\%)$} &\textbf{$Mejor$} \\ \toprule    
			\endhead
			\midrule \multicolumn{6}{r}{{Continúa en la siguiente página}} \\ \bottomrule
			\endfoot
			\midrule
			\endlastfoot
	}},
	end table=\end{longtable},
col sep=semicolon,
string type,
display columns/0/.style={postproc cell content/.append style={@cell content={\textbf{##1}}}},
display columns/1/.style={column type={S}},
display columns/3/.style={column type={S}},
]{Results/tabla-final.csv}
\end{footnotesize}

Se puede observar que en todas las instancias se han obtenido unos valores muy cercanos al trabajo anterior y por lo tanto el algoritmo cumple ciertos mínimos de calidad, aún así, sólo en 10 casos se han obtenido valores mejores.
También cabe destacar que los resultados obtenidos se han realizado en un tiempo de computo significativamente bajo, por lo que aunque no supere al trabajo anteriormente realizado por Dominik Goeke, Mahdi Moeini y David Poganiuch \cite{mrcp-GOEKE2017283} si mejora los resultados obtenidos mediante la linealización y el método de Newton con el solucionador Gurobi con los que se compara dicho trabajo.

%-------------------------------------------------------------------------------









